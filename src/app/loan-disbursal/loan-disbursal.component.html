<section class="container-fluid mx-auto row col-md-12">
  <section class="col-md-3 menu-section">
    <h1 class="p-2">Loan Disbursal Menu</h1>
    <section class="mx-auto menu-options">
      <div class= "mt-1"><button class="nav-link" (click) = "getLoanRequestByStatus('accepted')">Accepted Loan Requests</button></div>
      <div class= "mt-1"><button class="nav-link" (click) = "getLoanRequestByStatus('rejected')">Rejected Loan Requests</button></div>
      <div class= "mt-1"><button class="nav-link" (click) = "pendingLoanrequest()">Pending Loan Requests</button></div>
    </section>
  </section>
  
  <section class="col-md-9 mx-auto view-section">
    <section class="mx-auto p-2" *ngIf="pendingFlag && !requestedFlag">
      <table class="table table-striped table-hover col-md-11 mx-auto mt-3" >
        <tr style="background-color:#34495e ; color: white;">
            <th>Loan Request ID</th>
            <th>Loan Amount</th>
            <th>Type</th>
            <th>Tenure</th>
            <th>Request Status</th>
            <th>Annual Income</th>
            <th>Action</th>
        </tr>
        <tr *ngFor ="let loan of loanRequests"   style="background-color:white ; color:black">
            <td>{{loan.loanRequestId}}</td>
            <td>{{loan.loanAmount | currency: INR}}</td>
            <td>{{loan.loanType | uppercase }}</td>
            <td>{{loan.loanTenure }}</td>
            <td>{{loan.loanRequestStatus | uppercase }}</td>
            <td>{{loan.annualIncome | currency: INR }}</td>
            <td>
              <a class="btn btn-dark m-2" style="color: white;" (click)= "disburseLoanRequests(loan, 'Accept')">Accept</a>
              <a class="btn btn-dark m-2" style="color: white;" (click)= "disburseLoanRequests(loan, 'Reject')">Reject</a>
            </td>
         </tr>
      </table>
    </section>
    
    <section class="mx-auto p-2" *ngIf="requestedFlag && pendingFlag">
      <table class="table table-striped table-hover col-md-11 mx-auto mt-3" >
        <tr style="background-color:#34495e ; color: white;">
            <th>Loan Request ID</th>
            <th>Loan Amount</th>
            <th>Type</th>
            <th>Tenure</th>
            <th>Request Status</th>
            <th>Annual Income</th>
        </tr>
        <tr *ngFor ="let loan of loanRequestByStatus"   style="background-color:white ; color:black">
            <td>{{loan.loanRequestId}}</td>
            <td>{{ loan.loanAmount | currency: INR}}</td>
            <td>{{loan.loanType | uppercase }}</td>
            <td>{{loan.loanTenure }}</td>
            <td>{{loan.loanRequestStatus | uppercase }}</td>
            <td>{{loan.annualIncome | currency: INR }}</td>
         </tr>
      </table>
    </section>
  </section>
</section>